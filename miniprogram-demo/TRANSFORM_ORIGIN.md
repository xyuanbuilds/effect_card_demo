# transform-origin 旋转基准点说明

## 问题描述

在卡片旋转效果中，`transform-origin` 决定了旋转的基准点位置。不同的基准点会产生完全不同的视觉效果。

## 三种旋转基准点对比

### 1. center top（顶部中心）
```css
transform-origin: center top;
```

**效果**：卡片绕顶部中心点旋转，像挂在顶部的钟摆。

```
     [旋转点]
        ┃
    ╔═══╧═══╗
    ║       ║
    ║  卡片  ║
    ║       ║
    ╚═══════╝
```

**适用场景**：
- 翻页效果
- 吊牌效果
- 悬挂式卡片

---

### 2. center center（中心）
```css
transform-origin: center center;
```

**效果**：卡片绕中心点旋转，360度平衡旋转。

```
    ╔═══════╗
    ║       ║
    ║  卡[×]片  ║  ← 旋转点在中心
    ║       ║
    ╚═══════╝
```

**适用场景**：
- Swiper 默认效果
- 轮播图
- 360度展示

---

### 3. center bottom（底部中心）✅ **推荐**
```css
transform-origin: center bottom;
```

**效果**：卡片绕底部中心点旋转，像扇子一样从底部展开。

```
    ╔═══════╗
    ║       ║
    ║  卡片  ║
    ║       ║
    ╚═══╤═══╝
        ┃
   [旋转点]
```

**适用场景**：
- ✅ 卡片堆叠效果（本项目默认）
- 扇形展开
- 手持卡片效果
- 更符合物理直觉

---

## 为什么选择 center bottom？

### 1. 更符合物理直觉

真实世界中，手持卡片时，通常是抓住底部，卡片从底部展开：

```
用户视角：
     卡片3
    /
   /  卡片2
  /  /
 /  /  卡片1
──────────────
    👋 手
```

### 2. 更好的层叠效果

从底部旋转时，卡片的顶部会向外展开，形成更明显的层叠视觉：

```
center center（中心旋转）：
  ╔═══╗  ╔═══╗  ╔═══╗
  ║   ║╱ ║   ║╱ ║   ║
  ║   ║  ║   ║  ║   ║
  ╚═══╝  ╚═══╝  ╚═══╝
  层叠感较弱


center bottom（底部旋转）：
    ╔═══╗
   ╱║   ║
  ╱ ║   ║
 ╱╔═╬═══╝
╱ ║ ║
  ╚═╝
  层叠感强烈 ✅
```

### 3. 更大的视觉差异

底部旋转时，卡片顶部的移动距离更大，产生更明显的视觉差异：

```
旋转 10° 时：

center center:
- 顶部移动距离: ~35rpx
- 底部移动距离: ~35rpx

center bottom:
- 顶部移动距离: ~70rpx ✅ 更明显
- 底部移动距离: 0rpx（固定）
```

---

## 实际应用对比

### 示例：3张卡片，perSlideRotate = 10°

#### center center（中心旋转）
```
        卡片3（右旋10°）
     卡片2（不旋转）
  卡片1（左旋10°）

效果：轻微倾斜，层叠感不强
```

#### center bottom（底部旋转）✅
```
           卡片3（顶部向右）
        /
       /  卡片2（垂直）
      /  /
     /  /
    /__/   卡片1（顶部向左）
   ──────────────
      底部对齐

效果：扇形展开，层叠感强烈
```

---

## 在测试页面中试验

打开 `pages/effect-cards-test` 页面，可以实时切换三种旋转基准点：

1. **顶部**：看起来像挂在墙上的卡片
2. **中心**：Swiper 默认效果
3. **底部**：扇形展开效果（推荐）✅

调整 `perSlideRotate` 滑动条，观察不同基准点的视觉差异。

---

## 代码实现

### 静态设置（基础版 & 增强版）

```css
/* effect-cards.wxss */
.card-item {
  transform-origin: center bottom; /* 固定为底部 */
}
```

### 动态切换（测试版）

```javascript
// effect-cards-test.js
data: {
  transformOrigin: 'center bottom'
}

// 在 style 中动态应用
style: `
  transform: ${transform};
  transform-origin: ${this.data.transformOrigin};
`
```

---

## 性能影响

`transform-origin` 的变化**不影响性能**，因为：
1. 它只改变旋转的计算方式
2. 不触发重排（reflow）
3. 仍然使用 GPU 加速

---

## 最佳实践建议

| 场景 | 推荐基准点 | 理由 |
|------|-----------|------|
| 卡片堆叠 | `center bottom` | 扇形展开，更自然 ✅ |
| 轮播图 | `center center` | 平衡旋转 |
| 翻页效果 | `center top` | 书本翻页感 |
| 360度展示 | `center center` | 平滑旋转 |
| 手持卡片 | `center bottom` | 符合物理直觉 ✅ |

---

## 总结

✅ **本项目默认使用 `center bottom`**

原因：
1. 更符合真实世界的卡片使用习惯
2. 产生更强烈的层叠视觉效果
3. 更大的视觉差异，效果更明显
4. 扇形展开更有设计感

你可以在测试页面中试验不同的基准点，选择最适合你项目的方案！
